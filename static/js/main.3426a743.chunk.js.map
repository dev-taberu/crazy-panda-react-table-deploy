{"version":3,"sources":["components/table/Table.js","App.js","reportWebVitals.js","index.js"],"names":["Table","headers","data","itemsOnPage","useState","tableSearchString","setTableSearchString","tableSortColumn","setTableSortColumn","tableSortDecrease","setTableSortDecrease","undefined","maxItemsOnPage","currentPage","setCurrentPage","sortFunc","item1","item2","searchPredicate","e","res","Object","keys","forEach","item","toString","indexOf","renderHeaders","table_headers","map","header","className","onClick","columnName","href","renderRows","start_item_index","end_item_index","slice","renderCells","renderPagination","pagesCount","Math","trunc","length","Array","fill","el","i","renderTableContent","prepared_data","sort","i1","i2","filter","search","onChange","target","value","renderTable","tableHeaders","name","surname","age","birthDate","city","dataGeneration","push","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3426a743.chunk.js","sourcesContent":["import {useState} from 'react';\r\n\r\nexport default function Table ({headers, data, itemsOnPage}) {\r\n\r\n    let [tableSearchString, setTableSearchString] = useState('');\r\n    let [tableSortColumn, setTableSortColumn] = useState(null);\r\n    let [tableSortDecrease, setTableSortDecrease] = useState(false);\r\n    let [maxItemsOnPage, setMaxItemsOnPage] = useState((itemsOnPage === undefined)?50:itemsOnPage[0] || 50);\r\n    let [currentPage, setCurrentPage] = useState(0);\r\n\r\n    const setSorting = (columnName) => {\r\n        if(tableSortColumn === columnName) {\r\n            setTableSortDecrease(!tableSortDecrease);\r\n            return;\r\n        }\r\n        \r\n        setTableSortColumn(columnName);\r\n        setTableSortDecrease(false);\r\n    }\r\n\r\n    const sortFunc = (item1, item2) => {\r\n        if(item1[tableSortColumn] < item2[tableSortColumn])\r\n            return -1;\r\n        else if(item1[tableSortColumn] > item2[tableSortColumn])\r\n            return 1;\r\n        else\r\n            return 0;\r\n    }\r\n\r\n    const searchPredicate = (e) => {\r\n        let res = false;\r\n        Object.keys(e).forEach(item => { \r\n            if(e[item].toString().indexOf(tableSearchString) !== -1) {\r\n                res = true;\r\n            }\r\n        })\r\n\r\n        return res;\r\n    }\r\n\r\n    const search = (data) => {\r\n        if(tableSearchString.length === 0)\r\n            return data;\r\n\r\n        return data.filter(searchPredicate);\r\n\r\n    }\r\n\r\n    const sort = (data) => {\r\n        if(tableSortColumn === null)\r\n            return data;\r\n        \r\n        if(tableSortDecrease) {\r\n            return data.sort((i1, i2) => sortFunc(i2, i1));\r\n        } else {\r\n            return data.sort(sortFunc);\r\n        }\r\n    }\r\n\r\n    const renderHeaders = (table_headers) => table_headers.map(header => (\r\n        <th className='table__content-header' onClick={() => { setSorting(header) }}><a className='table__content-header-name' href='#'>{headers[header]}</a>{(tableSortColumn === header)?(tableSortDecrease)?'↓':'↑':''}</th>\r\n    ))\r\n\r\n    const renderRows = (data, table_headers) => {\r\n        let start_item_index = maxItemsOnPage * currentPage;\r\n        let end_item_index = start_item_index + maxItemsOnPage;\r\n\r\n        return data.slice(start_item_index, end_item_index).map(item => (\r\n            <tr className='table__content-row'>\r\n                {renderCells(item, table_headers)}\r\n            </tr>\r\n        ))\r\n    }\r\n\r\n    const renderCells = (item, table_headers) => (\r\n        table_headers.map(header => (\r\n            <td className='table__content-cell'>{item[header]}</td>\r\n        ))\r\n    )\r\n\r\n    const renderPagination = (data) => {\r\n        let pagesCount = Math.trunc(data.length / maxItemsOnPage) + 1;\r\n        if(currentPage >= pagesCount)\r\n            setCurrentPage(0);\r\n        return new Array(pagesCount).fill(null).map((el, i) => (\r\n            <a href='#' className={`table__pagination-number ${(currentPage === i)?'page-active':''}`} onClick={() => {setCurrentPage(i)}}>{i+1}</a>\r\n        ))\r\n    }\r\n\r\n    const renderTableContent = (data, headers) => {\r\n        return (\r\n            <table className='table__content'>\r\n                {renderHeaders(headers)}\r\n                {renderRows(data, headers)}\r\n            </table>\r\n        )\r\n    }\r\n\r\n    const renderTable = () => {\r\n        let table_headers = Object.keys(headers);\r\n        let prepared_data = sort(search(data));\r\n\r\n        return (\r\n            <div className='table'>\r\n                <div className='table__search'>\r\n                    <label className='table__search-label'>Search:</label>\r\n                    <input className='table__search-input' onChange={(e) => setTableSearchString(e.target.value)}/>\r\n                </div>\r\n                {renderTableContent(prepared_data, table_headers)}\r\n                <div className='table__pagination'>\r\n                    <a href='#' className='table__pagination-prev' onClick={() => {if(currentPage !== 0) setCurrentPage(currentPage - 1)}}>Prev</a>\r\n                    {renderPagination(prepared_data)}\r\n                    <a href='#' className='table__pagination-next' onClick={() => {if(currentPage !== (Math.trunc(data.length / maxItemsOnPage))) setCurrentPage(currentPage + 1)}}>Next</a>\r\n                </div>\r\n            </div>\r\n            \r\n        )\r\n    }\r\n\r\n    return(\r\n        <div className='table-container'>\r\n            {renderTable()}\r\n        </div>\r\n    );\r\n}","import './style/table.css';\n\nimport Table from './components/table/Table';\n\nconst tableHeaders = {\n  name: 'Имя',\n  surname: 'Фамилия',\n  age: 'Возраст',\n  birthDate: 'Дата рождения',\n  city: 'Город'\n}\n\nconst dataGeneration = () => {\n  let data = [];\n  for(let i = 0; i < 30; i++) {\n    data.push({name: `Ivan${i}`, surname: 'Ivanov', age: Math.trunc(i / 2) + 31, birthDate: 1990, city: 'Moscow'})\n  }\n  for(let i = 0; i < 30; i++) {\n    data.push({name: `Denis${i}`, surname: 'Denisov', age: Math.trunc(i / 2) + 15, birthDate: 2005, city: 'Kazan'})\n  }\n  for(let i = 0; i < 30; i++) {\n    data.push({name: `Maria${i}`, surname: 'Solnceva', age: Math.trunc(i / 2) + 23, birthDate: 1998, city: 'Voronezh'})\n  }\n  return data;\n}\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Table headers={tableHeaders} data={dataGeneration()}/>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}